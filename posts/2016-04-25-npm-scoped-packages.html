<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js and Markdown."/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Scoped Packages with npm-link | Mov Log</title><meta property="og:image" content=""/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/github.min.css"/><meta name="next-head-count" content="17"/><link rel="preload" href="/blog/_next/static/css/2fb5138e8c8527d4.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/2fb5138e8c8527d4.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/cf121497002c184d.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/cf121497002c184d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/blog/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/blog/_next/static/chunks/webpack-4d5208940e01a3dc.js" defer=""></script><script src="/blog/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/blog/_next/static/chunks/main-ee613568123ae71a.js" defer=""></script><script src="/blog/_next/static/chunks/pages/_app-6cff62718d504bfc.js" defer=""></script><script src="/blog/_next/static/chunks/34-3cca6a3b523c4f79.js" defer=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-e3d73f2ad54a2ec3.js" defer=""></script><script src="/blog/_next/static/63Aen6Pc_fdmJbL0m4hbh/_buildManifest.js" defer=""></script><script src="/blog/_next/static/63Aen6Pc_fdmJbL0m4hbh/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><div class="border-b bg-accent-1 border-accent-2"><div class="container mx-auto px-5"><div class="py-2 text-center text-sm"></div></div></div><main><div class="container mx-auto px-5"><section class="mb-16"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-8 mt-8"><a class="hover:underline" href="/blog">Mov Log</a></h2><a class="hover:underline cursor-pointer"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2716%27%20height=%2716%27/%3e"/></span><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="align-middle pt-4" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img src="/blog/_next/static/media/back.e4267c42.png" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="align-middle pt-4" loading="lazy"/></noscript></span> <span class="md:text-xl">Articles</span></a></section><article class="mb-32"><div class="max-w-2xl"><h1 class="text-4xl md:text-4xl lg:text-4xl font-bold tracking-tighter leading-tight md:leading-none mb-4">Scoped Packages with npm-link</h1><div class="block mb-6"><div class="flex items-center"><div class="text-xl font-bold">Hekar Khani</div></div></div><div class="mb-6 text-lg"><time dateTime="2016-04-25">April	25, 2016</time></div></div><div class="max-w-6xl"><div class="markdown-styles_markdown__h_8de"><p>In the past few months, I have noticed that <code>npm link</code> and scoped packages have gone underused by my colleagues.
The <code>npm link</code> command is essential for quick development. And if you're building private packages inside an organization, scoped packages can make managing and installing packages much simpler.</p>
<p>Before we can do anything, we need a scoped package. Fortunately, it's as simple as naming the package in the following format: <code>@&#x3C;scope>/&#x3C;package></code>.</p>
<hr>
<p>For example, in <code>package.json</code>:</p>
<pre><code class="hljs language-js">{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"@mycompany/fast-lib"</span>
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>Sometimes you want to make changes to a dependency while working on an application. This means you have both repositories on your local machine and are making modifications. You could manually sync them using <code>npm install</code>, but there's an easier way. Create a symbolic link using <code>npm link</code>.</p>
<p>The synopsis from the <code>npm</code> documentation states that the npm link command only takes a single argument. The name of the [scoped] package.</p>
<pre><code class="hljs language-txt">npm link (in package dir)
npm link [&#x3C;@scope>/]&#x3C;pkg>[@&#x3C;version>]

alias: npm ln
</code></pre>
<p>Using <code>npm link</code> is easier than it seems. You do not need to chdir outside your project's folder.</p>
<p>To link a scoped package to a project:</p>
<pre><code>npm link &#x3C;path-to-dependency> @scope/&#x3C;package>[@version]
</code></pre>
<p>Same goes for non-scoped packages:</p>
<pre><code>npm link &#x3C;path-to-dependency> &#x3C;package>[@version]
</code></pre>
<p><code>@version</code> is optional.</p>
<p>Example:</p>
<pre><code>npm link ../fast-lib @mycompany/fast-lib@1.0.0
</code></pre>
<p>To validate that it worked, check the folder in <code>node_modules/</code> to make sure it's a symlink and points to the correct folder.</p>
<pre><code>ls -l node_modules/@scope/&#x3C;package>
# or
ls -l node_modules/&#x3C;package>
</code></pre>
<p>You should see a reference to the folder containing the project.</p>
<p>To use a private npm registry for your scoped packages, you need to setup an <code>.npmrc</code>. This does not apply if you're using <a href="https://www.npmjs.com/npm/private-packages">npmjs.com</a>. See their <a href="https://docs.npmjs.com/orgs/what-are-orgs">documentation</a> for details.</p>
<p>Getting authenticated with your respective npm registry is different depending on where your packages are hosted. The configuration of the <code>.npmrc</code> is always the same though.</p>
<pre><code>@&#x3C;scope>:registry=https://&#x3C;your-npm-registry>/
//&#x3C;your-npm-registry>/:_password=&#x3C;password-base-64>
//&#x3C;your-npm-registry>/:username=&#x3C;username>
//&#x3C;your-npm-registry>/:email=&#x3C;email>
//&#x3C;your-npm-registry>/:always-auth=true
</code></pre>
<p>The <code>.npmrc</code> is read from the following locations in the order:</p>
<ol>
<li>per-project config file (/path/to/my/project/.npmrc)</li>
<li>per-user config file (~/.npmrc)</li>
<li>global config file ($PREFIX/etc/npmrc)</li>
<li>npm builtin config file (/path/to/npm/npmrc)</li>
</ol>
<p>That's all you need to know about <code>npm link</code> and a primer on <a href="https://docs.npmjs.com/misc/scope">scoped packages</a>.</p></div></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="container mx-auto px-5"></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Scoped Packages with npm-link","date":"2016-04-25","slug":"2016-04-25-npm-scoped-packages","content":"\u003cp\u003eIn the past few months, I have noticed that \u003ccode\u003enpm link\u003c/code\u003e and scoped packages have gone underused by my colleagues.\nThe \u003ccode\u003enpm link\u003c/code\u003e command is essential for quick development. And if you're building private packages inside an organization, scoped packages can make managing and installing packages much simpler.\u003c/p\u003e\n\u003cp\u003eBefore we can do anything, we need a scoped package. Fortunately, it's as simple as naming the package in the following format: \u003ccode\u003e@\u0026#x3C;scope\u003e/\u0026#x3C;package\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eFor example, in \u003ccode\u003epackage.json\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"@mycompany/fast-lib\"\u003c/span\u003e\n  \u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSometimes you want to make changes to a dependency while working on an application. This means you have both repositories on your local machine and are making modifications. You could manually sync them using \u003ccode\u003enpm install\u003c/code\u003e, but there's an easier way. Create a symbolic link using \u003ccode\u003enpm link\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThe synopsis from the \u003ccode\u003enpm\u003c/code\u003e documentation states that the npm link command only takes a single argument. The name of the [scoped] package.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-txt\"\u003enpm link (in package dir)\nnpm link [\u0026#x3C;@scope\u003e/]\u0026#x3C;pkg\u003e[@\u0026#x3C;version\u003e]\n\nalias: npm ln\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUsing \u003ccode\u003enpm link\u003c/code\u003e is easier than it seems. You do not need to chdir outside your project's folder.\u003c/p\u003e\n\u003cp\u003eTo link a scoped package to a project:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enpm link \u0026#x3C;path-to-dependency\u003e @scope/\u0026#x3C;package\u003e[@version]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSame goes for non-scoped packages:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enpm link \u0026#x3C;path-to-dependency\u003e \u0026#x3C;package\u003e[@version]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e@version\u003c/code\u003e is optional.\u003c/p\u003e\n\u003cp\u003eExample:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enpm link ../fast-lib @mycompany/fast-lib@1.0.0\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo validate that it worked, check the folder in \u003ccode\u003enode_modules/\u003c/code\u003e to make sure it's a symlink and points to the correct folder.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003els -l node_modules/@scope/\u0026#x3C;package\u003e\n# or\nls -l node_modules/\u0026#x3C;package\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou should see a reference to the folder containing the project.\u003c/p\u003e\n\u003cp\u003eTo use a private npm registry for your scoped packages, you need to setup an \u003ccode\u003e.npmrc\u003c/code\u003e. This does not apply if you're using \u003ca href=\"https://www.npmjs.com/npm/private-packages\"\u003enpmjs.com\u003c/a\u003e. See their \u003ca href=\"https://docs.npmjs.com/orgs/what-are-orgs\"\u003edocumentation\u003c/a\u003e for details.\u003c/p\u003e\n\u003cp\u003eGetting authenticated with your respective npm registry is different depending on where your packages are hosted. The configuration of the \u003ccode\u003e.npmrc\u003c/code\u003e is always the same though.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e@\u0026#x3C;scope\u003e:registry=https://\u0026#x3C;your-npm-registry\u003e/\n//\u0026#x3C;your-npm-registry\u003e/:_password=\u0026#x3C;password-base-64\u003e\n//\u0026#x3C;your-npm-registry\u003e/:username=\u0026#x3C;username\u003e\n//\u0026#x3C;your-npm-registry\u003e/:email=\u0026#x3C;email\u003e\n//\u0026#x3C;your-npm-registry\u003e/:always-auth=true\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe \u003ccode\u003e.npmrc\u003c/code\u003e is read from the following locations in the order:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eper-project config file (/path/to/my/project/.npmrc)\u003c/li\u003e\n\u003cli\u003eper-user config file (~/.npmrc)\u003c/li\u003e\n\u003cli\u003eglobal config file ($PREFIX/etc/npmrc)\u003c/li\u003e\n\u003cli\u003enpm builtin config file (/path/to/npm/npmrc)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThat's all you need to know about \u003ccode\u003enpm link\u003c/code\u003e and a primer on \u003ca href=\"https://docs.npmjs.com/misc/scope\"\u003escoped packages\u003c/a\u003e.\u003c/p\u003e"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"2016-04-25-npm-scoped-packages"},"buildId":"63Aen6Pc_fdmJbL0m4hbh","assetPrefix":"/blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>