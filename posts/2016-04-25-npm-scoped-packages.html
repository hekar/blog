<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js and Markdown."/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Scoped Packages with npm-link | Hekar&#x27;s Log</title><meta property="og:image" content=""/><meta name="next-head-count" content="16"/><link rel="preload" href="/blog/_next/static/css/a39f38d88d9ad441c8d0.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/a39f38d88d9ad441c8d0.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/638ceea9d6aeb94de336.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/638ceea9d6aeb94de336.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/blog/_next/static/chunks/webpack-e4c796d2c240145f9837.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/framework-45e9b849801d11e9c054.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/commons-2d0244bebd598e26d2fd.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/main-5d758df2dffcf497d56f.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/_app-841f7939ab4d644b6735.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/853-d37cfdc4604a543e18de.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-28b03ac8116d9c3cd2f6.js" as="script"/></head><body><div id="__next"><div class="min-h-screen"><div class="border-b bg-accent-1 border-accent-2"><div class="container mx-auto px-5"><div class="py-2 text-center text-sm">Created with<!-- --> <a href="https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript" class="underline hover:text-success duration-200 transition-colors">Next.js</a>.</div></div></div><main><div class="container mx-auto px-5"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-20 mt-8"><a class="hover:underline" href="/blog">Hekar&#x27;s Log.</a></h2><article class="mb-32"><div class="max-w-2xl mx-auto"><h1 class="text-6xl md:text-6xl lg:text-7xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">Scoped Packages with npm-link</h1><div class="block mb-6"><div class="flex items-center"><div class="text-xl font-bold">Hekar Khani</div></div></div><div class="mb-6 text-lg"><time dateTime="2016-04-25">April	25, 2016</time></div></div><div class="max-w-2xl mx-auto"><div class="markdown-styles_markdown__1x9gM"><p>In the past few months, I have noticed that <code>npm link</code> and scoped packages have gone underused by my colleagues.
The <code>npm link</code> command is essential for quick development. And if you're building private packages inside an organization, scoped packages can make managing and installing packages much simpler.</p>
<p>Before we can do anything, we need a scoped package. Fortunately, it's as simple as naming the package in the following format: <code>@&#x3C;scope>/&#x3C;package></code>.</p>
<hr>
<p>For example, in <code>package.json</code>:</p>
<pre><code class="language-js">{
  "name": "@mycompany/fast-lib"
  // ...
}
</code></pre>
<p>Sometimes you want to make changes to a dependency while working on an application. This means you have both repositories on your local machine and are making modifications. You could manually sync them using <code>npm install</code>, but there's an easier way. Create a symbolic link using <code>npm link</code>.</p>
<p>The synopsis from the <code>npm</code> documentation states that the npm link command only takes a single argument. The name of the [scoped] package.</p>
<pre><code>npm link (in package dir)
npm link [&#x3C;@scope>/]&#x3C;pkg>[@&#x3C;version>]

alias: npm ln
</code></pre>
<p>Using <code>npm link</code> is easier than it seems. You do not need to chdir outside your project's folder.</p>
<p>To link a scoped package to a project:</p>
<pre><code>npm link &#x3C;path-to-dependency> @scope/&#x3C;package>[@version]
</code></pre>
<p>Same goes for non-scoped packages:</p>
<pre><code>npm link &#x3C;path-to-dependency> &#x3C;package>[@version]
</code></pre>
<p><code>@version</code> is optional.</p>
<p>Example:</p>
<pre><code>npm link ../fast-lib @mycompany/fast-lib@1.0.0
</code></pre>
<p>To validate that it worked, check the folder in <code>node_modules/</code> to make sure it's a symlink and points to the correct folder.</p>
<pre><code>ls -l node_modules/@scope/&#x3C;package>
# or
ls -l node_modules/&#x3C;package>
</code></pre>
<p>You should see a reference to the folder containing the project.</p>
<p>To use a private npm registry for your scoped packages, you need to setup an <code>.npmrc</code>. This does not apply if you're using <a href="https://www.npmjs.com/npm/private-packages">npmjs.com</a>. See their <a href="https://docs.npmjs.com/orgs/what-are-orgs">documentation</a> for details.</p>
<p>Getting authenticated with your respective npm registry is different depending on where your packages are hosted. The configuration of the <code>.npmrc</code> is always the same though.</p>
<pre><code>@&#x3C;scope>:registry=https://&#x3C;your-npm-registry>/
//&#x3C;your-npm-registry>/:_password=&#x3C;password-base-64>
//&#x3C;your-npm-registry>/:username=&#x3C;username>
//&#x3C;your-npm-registry>/:email=&#x3C;email>
//&#x3C;your-npm-registry>/:always-auth=true
</code></pre>
<p>The <code>.npmrc</code> is read from the following locations in the order:</p>
<ol>
<li>per-project config file (/path/to/my/project/.npmrc)</li>
<li>per-user config file (~/.npmrc)</li>
<li>global config file ($PREFIX/etc/npmrc)</li>
<li>npm builtin config file (/path/to/npm/npmrc)</li>
</ol>
<p>That's all you need to know about <code>npm link</code> and a primer on <a href="https://docs.npmjs.com/misc/scope">scoped packages</a>.</p>
</div></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="container mx-auto px-5"></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Scoped Packages with npm-link","date":"2016-04-25","slug":"2016-04-25-npm-scoped-packages","content":"\u003cp\u003eIn the past few months, I have noticed that \u003ccode\u003enpm link\u003c/code\u003e and scoped packages have gone underused by my colleagues.\nThe \u003ccode\u003enpm link\u003c/code\u003e command is essential for quick development. And if you're building private packages inside an organization, scoped packages can make managing and installing packages much simpler.\u003c/p\u003e\n\u003cp\u003eBefore we can do anything, we need a scoped package. Fortunately, it's as simple as naming the package in the following format: \u003ccode\u003e@\u0026#x3C;scope\u003e/\u0026#x3C;package\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eFor example, in \u003ccode\u003epackage.json\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-js\"\u003e{\n  \"name\": \"@mycompany/fast-lib\"\n  // ...\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSometimes you want to make changes to a dependency while working on an application. This means you have both repositories on your local machine and are making modifications. You could manually sync them using \u003ccode\u003enpm install\u003c/code\u003e, but there's an easier way. Create a symbolic link using \u003ccode\u003enpm link\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThe synopsis from the \u003ccode\u003enpm\u003c/code\u003e documentation states that the npm link command only takes a single argument. The name of the [scoped] package.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enpm link (in package dir)\nnpm link [\u0026#x3C;@scope\u003e/]\u0026#x3C;pkg\u003e[@\u0026#x3C;version\u003e]\n\nalias: npm ln\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUsing \u003ccode\u003enpm link\u003c/code\u003e is easier than it seems. You do not need to chdir outside your project's folder.\u003c/p\u003e\n\u003cp\u003eTo link a scoped package to a project:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enpm link \u0026#x3C;path-to-dependency\u003e @scope/\u0026#x3C;package\u003e[@version]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSame goes for non-scoped packages:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enpm link \u0026#x3C;path-to-dependency\u003e \u0026#x3C;package\u003e[@version]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e@version\u003c/code\u003e is optional.\u003c/p\u003e\n\u003cp\u003eExample:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enpm link ../fast-lib @mycompany/fast-lib@1.0.0\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo validate that it worked, check the folder in \u003ccode\u003enode_modules/\u003c/code\u003e to make sure it's a symlink and points to the correct folder.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003els -l node_modules/@scope/\u0026#x3C;package\u003e\n# or\nls -l node_modules/\u0026#x3C;package\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou should see a reference to the folder containing the project.\u003c/p\u003e\n\u003cp\u003eTo use a private npm registry for your scoped packages, you need to setup an \u003ccode\u003e.npmrc\u003c/code\u003e. This does not apply if you're using \u003ca href=\"https://www.npmjs.com/npm/private-packages\"\u003enpmjs.com\u003c/a\u003e. See their \u003ca href=\"https://docs.npmjs.com/orgs/what-are-orgs\"\u003edocumentation\u003c/a\u003e for details.\u003c/p\u003e\n\u003cp\u003eGetting authenticated with your respective npm registry is different depending on where your packages are hosted. The configuration of the \u003ccode\u003e.npmrc\u003c/code\u003e is always the same though.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e@\u0026#x3C;scope\u003e:registry=https://\u0026#x3C;your-npm-registry\u003e/\n//\u0026#x3C;your-npm-registry\u003e/:_password=\u0026#x3C;password-base-64\u003e\n//\u0026#x3C;your-npm-registry\u003e/:username=\u0026#x3C;username\u003e\n//\u0026#x3C;your-npm-registry\u003e/:email=\u0026#x3C;email\u003e\n//\u0026#x3C;your-npm-registry\u003e/:always-auth=true\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe \u003ccode\u003e.npmrc\u003c/code\u003e is read from the following locations in the order:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eper-project config file (/path/to/my/project/.npmrc)\u003c/li\u003e\n\u003cli\u003eper-user config file (~/.npmrc)\u003c/li\u003e\n\u003cli\u003eglobal config file ($PREFIX/etc/npmrc)\u003c/li\u003e\n\u003cli\u003enpm builtin config file (/path/to/npm/npmrc)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThat's all you need to know about \u003ccode\u003enpm link\u003c/code\u003e and a primer on \u003ca href=\"https://docs.npmjs.com/misc/scope\"\u003escoped packages\u003c/a\u003e.\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"2016-04-25-npm-scoped-packages"},"buildId":"mJbUB12BbsjDO8NNxYNxc","assetPrefix":"/blog","isFallback":false,"gsp":true}</script><script nomodule="" src="/blog/_next/static/chunks/polyfills-8683bd742a84c1edd48c.js"></script><script src="/blog/_next/static/chunks/webpack-e4c796d2c240145f9837.js" async=""></script><script src="/blog/_next/static/chunks/framework-45e9b849801d11e9c054.js" async=""></script><script src="/blog/_next/static/chunks/commons-2d0244bebd598e26d2fd.js" async=""></script><script src="/blog/_next/static/chunks/main-5d758df2dffcf497d56f.js" async=""></script><script src="/blog/_next/static/chunks/pages/_app-841f7939ab4d644b6735.js" async=""></script><script src="/blog/_next/static/chunks/853-d37cfdc4604a543e18de.js" async=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-28b03ac8116d9c3cd2f6.js" async=""></script><script src="/blog/_next/static/mJbUB12BbsjDO8NNxYNxc/_buildManifest.js" async=""></script><script src="/blog/_next/static/mJbUB12BbsjDO8NNxYNxc/_ssgManifest.js" async=""></script></body></html>