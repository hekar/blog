<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js and Markdown."/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Compiling Source SDK on Linux | Mov Log</title><meta property="og:image" content=""/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/github.min.css"/><meta name="next-head-count" content="17"/><link rel="preload" href="/blog/_next/static/css/2fb5138e8c8527d4.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/2fb5138e8c8527d4.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/cf121497002c184d.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/cf121497002c184d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/blog/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/blog/_next/static/chunks/webpack-4d5208940e01a3dc.js" defer=""></script><script src="/blog/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/blog/_next/static/chunks/main-ee613568123ae71a.js" defer=""></script><script src="/blog/_next/static/chunks/pages/_app-6cff62718d504bfc.js" defer=""></script><script src="/blog/_next/static/chunks/34-3cca6a3b523c4f79.js" defer=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-e3d73f2ad54a2ec3.js" defer=""></script><script src="/blog/_next/static/63Aen6Pc_fdmJbL0m4hbh/_buildManifest.js" defer=""></script><script src="/blog/_next/static/63Aen6Pc_fdmJbL0m4hbh/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><div class="border-b bg-accent-1 border-accent-2"><div class="container mx-auto px-5"><div class="py-2 text-center text-sm"></div></div></div><main><div class="container mx-auto px-5"><section class="mb-16"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-8 mt-8"><a class="hover:underline" href="/blog">Mov Log</a></h2><a class="hover:underline cursor-pointer"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2716%27%20height=%2716%27/%3e"/></span><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="align-middle pt-4" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img src="/blog/_next/static/media/back.e4267c42.png" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="align-middle pt-4" loading="lazy"/></noscript></span> <span class="md:text-xl">Articles</span></a></section><article class="mb-32"><div class="max-w-2xl"><h1 class="text-4xl md:text-4xl lg:text-4xl font-bold tracking-tighter leading-tight md:leading-none mb-4">Compiling Source SDK on Linux</h1><div class="block mb-6"><div class="flex items-center"><div class="text-xl font-bold">Hekar Khani</div></div></div><div class="mb-6 text-lg"><time dateTime="2019-08-17">August	17, 2019</time></div></div><div class="max-w-6xl"><div class="markdown-styles_markdown__h_8de"><p>The Source SDK is a fork of Valve's internal Perforce repository containing the application code they use to build Valve's games based on the Source 1 engine. Games such as Counter Strike: Source, Team Fortress 2 and Half-Life 2.</p>
<hr>
<p>The SDK <a href="https://github.com/ValveSoftware/source-sdk-2013/">available on Github</a> is primarily based on <a href="https://en.wikipedia.org/wiki/Half-Life_2">Half-life 2</a>, while other games are removed from the repository before they are exported to Github.</p>
<p>Link to Github: <a href="https://github.com/ValveSoftware/source-sdk-2013/">https://github.com/ValveSoftware/source-sdk-2013/</a></p>
<p>The Source SDK is comprised of multiple projects that are shared libraries which are referenced by a proprietary engine created by Valve. The Engine and some of its surrounding tools are not open source and while source code can be found on the internet, usage is not legal and is covered under both copyright and DMCA.</p>
<p>The <a href="https://github.com/ValveSoftware/source-sdk-2013/blob/master/LICENSE">Valve Source SDK license</a> makes it clear that the shared libraries are the property of Valve and while they may be freely used, there are some limitations that make them different from typical GPL and BSD licenses that we have become accustomed to. Namely that the application created cannot be used for commercial purposes.</p>
<h3>Why would you want to use the Source SDK?</h3>
<p>The Source SDK is rather interesting, because there quite a few successful commercial games based on the platform. The platform is rather rich in features, though it may not be the most intuitive platform to use. The tooling and artwork pipeline lacks in areas that make it difficult for an artist to use. The artistic pipeline is primarily centered around proprietary file formats designed specifically for the Source Engine and command-line utilities that must be used to cover files between supported non-commercial formats and Valve's proprietary Source Engine formats.</p>
<p>Overall, the Source SDK can be interesting, because it is based on Half-life 2 and contains a fully featured version of Half-life 2 within it. This can give a basis for building a prototype or game top of the existing Half-life 2 series without needing to create everything from scratch. Of course Source is used to create many other games and contains abstractions that make it easy to move away from the look and feel of Half-life. Adding player functionality, weapons and game entities is completely within the scope of creating a game based on the Source SDK.</p>
<h3>Compiling on Linux</h3>
<p>Now, because much of the Source SDK and the engine are proprietary. There is not much of a booming open source community as one would expect with some of this caliber of quality. Namely, because of a lack of updates, communication and being partially limited due its proprietary nature.</p>
<p>The Source Engine and SDK support Windows, macOS and Linux, but due to its closed sourced libraries compilation can be rather tricky. In this post I will show the easiest way to get started compiling the Source SDK on Linux.</p>
<p>The easiest way to compile the Source SDK on Linux is to use <a href="https://www.docker.com">Docker</a> and an image of <a href="http://releases.ubuntu.com/14.04/">Ubuntu 14.04</a>. The reasoning is because the proprietary libraries that the SDK must be linked against were built using the shared libraries and version of GCC found in Ubuntu 14.04.</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cd</span> ~
git <span class="hljs-built_in">clone</span> git@github.com:ValveSoftware/source-sdk-2013.git

sudo docker run -t -i -v $(<span class="hljs-built_in">pwd</span>):$(<span class="hljs-built_in">pwd</span>) ubuntu:14.04 /bin/bash
sudo apt-get update &#x26;&#x26; sudo apt-get install -y gcc-multilib g++-multilib build-essential rsync

<span class="hljs-comment"># In docker instance</span>

<span class="hljs-comment"># Change to the directory of the source-sdk-2013</span>
<span class="hljs-built_in">cd</span> &#x3C;folder>/mp/src

<span class="hljs-comment"># Create the Makefiles required for compilation</span>
./createallprojects

<span class="hljs-comment"># Compile the mod by running Make</span>
make -f everything.mak

<span class="hljs-comment"># Copy the binary files to your mod folder</span>
rsync --progress -v ../game/mod_hl2mp/bin/* &#x3C;path-to-home>/.steam/steam/steamapps/sourcemods/my-source-mod/bin/
</code></pre>
<h3>Other Tooling on Linux</h3>
<p>Much of the Source SDK tooling is created for Windows only and does not execute on macOS or Linux. The solution is rather typical. Use Wine which supports most Source SDK tools rather reliably.</p>
<p>For model editing, the native version of <a href="https://www.blender.org/download/">Blender 2.8x</a> can <a href="https://developer.valvesoftware.com/wiki/Blender_Source_Tools">be used</a> with the <a href="http://steamreview.org/BlenderSourceTools/">Blender Source Tools</a>.</p>
<p>For mapping the included <a href="https://developer.valvesoftware.com/wiki/Valve_Hammer_Editor">Hammer</a> can be used] by installing the <a href="https://developer.valvesoftware.com/wiki/Source_SDK_2013">Source Base 2013 Single Player</a> installed with the Windows compatibility layer. Launch <code>Hammer.exe</code> using wine from the bin directory.</p>
<p>For texture compilation, the <a href="">tga2vtf.exe</a> command-line application can be used via Wine.</p>
<h3>Conclusion</h3>
<p>Using the Source SDK on Linux is feasible, although rather time consuming and sometimes unintuitive. It is more difficult to extend the platform due to the closed source nature. Had the Engine and SDK been fully open source and developed as an open source project in tandem with the surrounding community there would be a remarkable improvement in productivity and community support. Hopefully future versions of the Source 2 Engine will be developed directly on Github with developers allowing for complete open usage of their game engine.</p>
<p>Never the less, anyone interested in game development should take a look at the Source SDK if only for a view into how commercial games were developed in past. The Source SDK is a piece of history in game engine and tool development that has many lessons to offer.</p></div></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="container mx-auto px-5"></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Compiling Source SDK on Linux","date":"2019-08-17","slug":"2019-08-17-source-sdk-linux","content":"\u003cp\u003eThe Source SDK is a fork of Valve's internal Perforce repository containing the application code they use to build Valve's games based on the Source 1 engine. Games such as Counter Strike: Source, Team Fortress 2 and Half-Life 2.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eThe SDK \u003ca href=\"https://github.com/ValveSoftware/source-sdk-2013/\"\u003eavailable on Github\u003c/a\u003e is primarily based on \u003ca href=\"https://en.wikipedia.org/wiki/Half-Life_2\"\u003eHalf-life 2\u003c/a\u003e, while other games are removed from the repository before they are exported to Github.\u003c/p\u003e\n\u003cp\u003eLink to Github: \u003ca href=\"https://github.com/ValveSoftware/source-sdk-2013/\"\u003ehttps://github.com/ValveSoftware/source-sdk-2013/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eThe Source SDK is comprised of multiple projects that are shared libraries which are referenced by a proprietary engine created by Valve. The Engine and some of its surrounding tools are not open source and while source code can be found on the internet, usage is not legal and is covered under both copyright and DMCA.\u003c/p\u003e\n\u003cp\u003eThe \u003ca href=\"https://github.com/ValveSoftware/source-sdk-2013/blob/master/LICENSE\"\u003eValve Source SDK license\u003c/a\u003e makes it clear that the shared libraries are the property of Valve and while they may be freely used, there are some limitations that make them different from typical GPL and BSD licenses that we have become accustomed to. Namely that the application created cannot be used for commercial purposes.\u003c/p\u003e\n\u003ch3\u003eWhy would you want to use the Source SDK?\u003c/h3\u003e\n\u003cp\u003eThe Source SDK is rather interesting, because there quite a few successful commercial games based on the platform. The platform is rather rich in features, though it may not be the most intuitive platform to use. The tooling and artwork pipeline lacks in areas that make it difficult for an artist to use. The artistic pipeline is primarily centered around proprietary file formats designed specifically for the Source Engine and command-line utilities that must be used to cover files between supported non-commercial formats and Valve's proprietary Source Engine formats.\u003c/p\u003e\n\u003cp\u003eOverall, the Source SDK can be interesting, because it is based on Half-life 2 and contains a fully featured version of Half-life 2 within it. This can give a basis for building a prototype or game top of the existing Half-life 2 series without needing to create everything from scratch. Of course Source is used to create many other games and contains abstractions that make it easy to move away from the look and feel of Half-life. Adding player functionality, weapons and game entities is completely within the scope of creating a game based on the Source SDK.\u003c/p\u003e\n\u003ch3\u003eCompiling on Linux\u003c/h3\u003e\n\u003cp\u003eNow, because much of the Source SDK and the engine are proprietary. There is not much of a booming open source community as one would expect with some of this caliber of quality. Namely, because of a lack of updates, communication and being partially limited due its proprietary nature.\u003c/p\u003e\n\u003cp\u003eThe Source Engine and SDK support Windows, macOS and Linux, but due to its closed sourced libraries compilation can be rather tricky. In this post I will show the easiest way to get started compiling the Source SDK on Linux.\u003c/p\u003e\n\u003cp\u003eThe easiest way to compile the Source SDK on Linux is to use \u003ca href=\"https://www.docker.com\"\u003eDocker\u003c/a\u003e and an image of \u003ca href=\"http://releases.ubuntu.com/14.04/\"\u003eUbuntu 14.04\u003c/a\u003e. The reasoning is because the proprietary libraries that the SDK must be linked against were built using the shared libraries and version of GCC found in Ubuntu 14.04.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e ~\ngit \u003cspan class=\"hljs-built_in\"\u003eclone\u003c/span\u003e git@github.com:ValveSoftware/source-sdk-2013.git\n\nsudo docker run -t -i -v $(\u003cspan class=\"hljs-built_in\"\u003epwd\u003c/span\u003e):$(\u003cspan class=\"hljs-built_in\"\u003epwd\u003c/span\u003e) ubuntu:14.04 /bin/bash\nsudo apt-get update \u0026#x26;\u0026#x26; sudo apt-get install -y gcc-multilib g++-multilib build-essential rsync\n\n\u003cspan class=\"hljs-comment\"\u003e# In docker instance\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e# Change to the directory of the source-sdk-2013\u003c/span\u003e\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e \u0026#x3C;folder\u003e/mp/src\n\n\u003cspan class=\"hljs-comment\"\u003e# Create the Makefiles required for compilation\u003c/span\u003e\n./createallprojects\n\n\u003cspan class=\"hljs-comment\"\u003e# Compile the mod by running Make\u003c/span\u003e\nmake -f everything.mak\n\n\u003cspan class=\"hljs-comment\"\u003e# Copy the binary files to your mod folder\u003c/span\u003e\nrsync --progress -v ../game/mod_hl2mp/bin/* \u0026#x3C;path-to-home\u003e/.steam/steam/steamapps/sourcemods/my-source-mod/bin/\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eOther Tooling on Linux\u003c/h3\u003e\n\u003cp\u003eMuch of the Source SDK tooling is created for Windows only and does not execute on macOS or Linux. The solution is rather typical. Use Wine which supports most Source SDK tools rather reliably.\u003c/p\u003e\n\u003cp\u003eFor model editing, the native version of \u003ca href=\"https://www.blender.org/download/\"\u003eBlender 2.8x\u003c/a\u003e can \u003ca href=\"https://developer.valvesoftware.com/wiki/Blender_Source_Tools\"\u003ebe used\u003c/a\u003e with the \u003ca href=\"http://steamreview.org/BlenderSourceTools/\"\u003eBlender Source Tools\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eFor mapping the included \u003ca href=\"https://developer.valvesoftware.com/wiki/Valve_Hammer_Editor\"\u003eHammer\u003c/a\u003e can be used] by installing the \u003ca href=\"https://developer.valvesoftware.com/wiki/Source_SDK_2013\"\u003eSource Base 2013 Single Player\u003c/a\u003e installed with the Windows compatibility layer. Launch \u003ccode\u003eHammer.exe\u003c/code\u003e using wine from the bin directory.\u003c/p\u003e\n\u003cp\u003eFor texture compilation, the \u003ca href=\"\"\u003etga2vtf.exe\u003c/a\u003e command-line application can be used via Wine.\u003c/p\u003e\n\u003ch3\u003eConclusion\u003c/h3\u003e\n\u003cp\u003eUsing the Source SDK on Linux is feasible, although rather time consuming and sometimes unintuitive. It is more difficult to extend the platform due to the closed source nature. Had the Engine and SDK been fully open source and developed as an open source project in tandem with the surrounding community there would be a remarkable improvement in productivity and community support. Hopefully future versions of the Source 2 Engine will be developed directly on Github with developers allowing for complete open usage of their game engine.\u003c/p\u003e\n\u003cp\u003eNever the less, anyone interested in game development should take a look at the Source SDK if only for a view into how commercial games were developed in past. The Source SDK is a piece of history in game engine and tool development that has many lessons to offer.\u003c/p\u003e"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"2019-08-17-source-sdk-linux"},"buildId":"63Aen6Pc_fdmJbL0m4hbh","assetPrefix":"/blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>