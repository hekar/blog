<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js and Markdown."/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Dotcover in Dotnet Core | Mov Log</title><meta property="og:image" content=""/><meta name="next-head-count" content="16"/><link rel="preload" href="/blog/_next/static/css/9c1e0478d88e84a8.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/9c1e0478d88e84a8.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/cf121497002c184d.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/cf121497002c184d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/blog/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/blog/_next/static/chunks/webpack-4d5208940e01a3dc.js" defer=""></script><script src="/blog/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/blog/_next/static/chunks/main-ee613568123ae71a.js" defer=""></script><script src="/blog/_next/static/chunks/pages/_app-6cff62718d504bfc.js" defer=""></script><script src="/blog/_next/static/chunks/34-3cca6a3b523c4f79.js" defer=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-4fd996212403c237.js" defer=""></script><script src="/blog/_next/static/g5DAiWaR-7D6MZYZkgOm6/_buildManifest.js" defer=""></script><script src="/blog/_next/static/g5DAiWaR-7D6MZYZkgOm6/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><div class="border-b bg-accent-1 border-accent-2"><div class="container mx-auto px-5"><div class="py-2 text-center text-sm"></div></div></div><main><div class="container mx-auto px-5"><section class="mb-16"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-4 mt-8"><a class="hover:underline" href="/blog">Mov Log</a></h2><a class="hover:underline cursor-pointer"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2716%27%20height=%2716%27/%3e"/></span><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="align-middle pt-4" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img src="/blog/_next/static/media/back.e4267c42.png" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="align-middle pt-4" loading="lazy"/></noscript></span> <span class="md:text-xl">Articles</span></a></section><article class="mb-32"><div class="max-w-2xl"><h1 class="text-6xl md:text-6xl lg:text-7xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">Dotcover in Dotnet Core</h1><div class="block mb-6"><div class="flex items-center"><div class="text-xl font-bold">Hekar Khani</div></div></div><div class="mb-6 text-lg"><time dateTime="2020-09-22">September	22, 2020</time></div></div><div class="max-w-2xl"><div class="markdown-styles_markdown__h_8de"><p>Code coverage can be a useful heuristic for determining whether code is adequately executed by a given set of unit tests.</p>
<p>Tooling that produces code coverage will never be able to inform you how well your assertions are executed or if the given execution is necessary, but they will you an about whether a portion of code is covered by tests at all.</p>
<hr>
<p>For <a href="https://dotnet.microsoft.com/download/dotnet-core">Dotnet Core</a> applications I have been using a tool by <a href="https://www.jetbrains.com/">Jetbrains</a> called <a href="https://www.jetbrains.com/dotcover/">Dotcover</a>.</p>
<p><a href="https://www.jetbrains.com/dotcover/">Dotcover</a> integrates with <a href="https://docs.microsoft.com/en-us/dotnet/core/testing/unit-testing-with-mstest">MSTest</a>, <a href="https://nunit.org/">NUnit</a>, <a href="https://xunit.net/">xUnit</a>, and <a href="https://github.com/machine/machine.specifications">MSpec</a>. It can be executed through the <a href="https://www.jetbrains.com/help/dotcover/Running_Coverage_Analysis_from_the_Command_LIne.html">command-line</a> or <a href="https://visualstudio.microsoft.com/">Visual Studio</a>.</p>
<h2>Create Project</h2>
<p>If you do not have an existing project, you can create one use the templates provided for dotnet.</p>
<p>These commands below will create a project, test project and solution file. The test project will reference the project and the solution file will contain both the projects.</p>
<pre><code>mkdir project
cd project
dotnet new console --name ConsoleApp
dotnet new xunit --name ConsoleApp.Tests
cd ConsoleApp.Tests
dotnet add reference ../ConsoleApp/ConsoleApp.csproj
cd ..
dotnet new sln --name ConsoleApp
dotnet sln add ConsoleApp ConsoleApp.Tests
</code></pre>
<h2>Add Dotcover</h2>
<p>To reference Dotcover in the unit test project, open <code>./ConsoleApp.Tests/ConsoleApp.Tests.csproj</code> in a text editor. Add the following:</p>
<pre><code>  &#x3C;ItemGroup>
    &#x3C;DotNetCliToolReference Include="JetBrains.dotCover.DotNetCliTool" Version="2020.2.3" />
  &#x3C;/ItemGroup>
</code></pre>
<p>run <code>dotnet restore</code></p>
<h2>Run dotcover</h2>
<p>The default dotcover configuration outputs a <code>.dcvr</code> file.</p>
<pre><code>dotnet dotcover test
</code></pre>
<h2>Additional configuration</h2>
<p>This step is entirely optional, but you can create a file for dotcover configuration.</p>
<pre><code>dotnet dotcover test --dotCoverXml=dotcover.xml
</code></pre>
<p>dotcover.xml</p>
<pre><code>&#x3C;AnalyzeParams>
    &#x3C;Output>dotCover.html&#x3C;/Output>
    &#x3C;ReportType>html&#x3C;/ReportType>
    &#x3C;AttributeFilters>
        &#x3C;AttributeFilterEntry>
            &#x3C;ClassMask>System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverageAttribute&#x3C;/ClassMask>
        &#x3C;/AttributeFilterEntry>
    &#x3C;/AttributeFilters>
    &#x3C;Scope>
        &#x3C;ScopeEntry>../ConsoleApp/**/*.dll&#x3C;/ScopeEntry>
        &#x3C;ScopeEntry>../ConsoleApp/**/*.exe&#x3C;/ScopeEntry>
    &#x3C;/Scope>
    &#x3C;Filters>
        &#x3C;ExcludeFilters>
            &#x3C;FilterEntry>
                &#x3C;ModuleMask>ConsoleApp.Tests&#x3C;/ModuleMask>
            &#x3C;/FilterEntry>
            &#x3C;FilterEntry>
                &#x3C;ModuleMask>xunit.assert&#x3C;/ModuleMask>
            &#x3C;/FilterEntry>
        &#x3C;/ExcludeFilters>
    &#x3C;/Filters>
&#x3C;/AnalyzeParams>
</code></pre>
<p>open <code>ConsoleApp.Tests/dotcover.html</code> to see the final coverage report</p>
<p><img src="https://i.imgur.com/v8l1RKb.png" alt="example-coverage-report"></p>
<h2>Conclusion</h2>
<p>Dotcover is easy to setup and configure with Dotnet Core projects. The project works well after basic configuration. The only issue is the license is not a standard</p>
<p>For an example of a project using dotcover, checkout <a href="https://github.com/hekar/joke-generator">hekar/joke-generator</a>.</p>
</div></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="container mx-auto px-5"></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Dotcover in Dotnet Core","date":"2020-09-22","slug":"2020-09-22-dotcover-dotnetcore","content":"\u003cp\u003eCode coverage can be a useful heuristic for determining whether code is adequately executed by a given set of unit tests.\u003c/p\u003e\n\u003cp\u003eTooling that produces code coverage will never be able to inform you how well your assertions are executed or if the given execution is necessary, but they will you an about whether a portion of code is covered by tests at all.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eFor \u003ca href=\"https://dotnet.microsoft.com/download/dotnet-core\"\u003eDotnet Core\u003c/a\u003e applications I have been using a tool by \u003ca href=\"https://www.jetbrains.com/\"\u003eJetbrains\u003c/a\u003e called \u003ca href=\"https://www.jetbrains.com/dotcover/\"\u003eDotcover\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.jetbrains.com/dotcover/\"\u003eDotcover\u003c/a\u003e integrates with \u003ca href=\"https://docs.microsoft.com/en-us/dotnet/core/testing/unit-testing-with-mstest\"\u003eMSTest\u003c/a\u003e, \u003ca href=\"https://nunit.org/\"\u003eNUnit\u003c/a\u003e, \u003ca href=\"https://xunit.net/\"\u003exUnit\u003c/a\u003e, and \u003ca href=\"https://github.com/machine/machine.specifications\"\u003eMSpec\u003c/a\u003e. It can be executed through the \u003ca href=\"https://www.jetbrains.com/help/dotcover/Running_Coverage_Analysis_from_the_Command_LIne.html\"\u003ecommand-line\u003c/a\u003e or \u003ca href=\"https://visualstudio.microsoft.com/\"\u003eVisual Studio\u003c/a\u003e.\u003c/p\u003e\n\u003ch2\u003eCreate Project\u003c/h2\u003e\n\u003cp\u003eIf you do not have an existing project, you can create one use the templates provided for dotnet.\u003c/p\u003e\n\u003cp\u003eThese commands below will create a project, test project and solution file. The test project will reference the project and the solution file will contain both the projects.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003emkdir project\ncd project\ndotnet new console --name ConsoleApp\ndotnet new xunit --name ConsoleApp.Tests\ncd ConsoleApp.Tests\ndotnet add reference ../ConsoleApp/ConsoleApp.csproj\ncd ..\ndotnet new sln --name ConsoleApp\ndotnet sln add ConsoleApp ConsoleApp.Tests\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eAdd Dotcover\u003c/h2\u003e\n\u003cp\u003eTo reference Dotcover in the unit test project, open \u003ccode\u003e./ConsoleApp.Tests/ConsoleApp.Tests.csproj\u003c/code\u003e in a text editor. Add the following:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  \u0026#x3C;ItemGroup\u003e\n    \u0026#x3C;DotNetCliToolReference Include=\"JetBrains.dotCover.DotNetCliTool\" Version=\"2020.2.3\" /\u003e\n  \u0026#x3C;/ItemGroup\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003erun \u003ccode\u003edotnet restore\u003c/code\u003e\u003c/p\u003e\n\u003ch2\u003eRun dotcover\u003c/h2\u003e\n\u003cp\u003eThe default dotcover configuration outputs a \u003ccode\u003e.dcvr\u003c/code\u003e file.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edotnet dotcover test\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eAdditional configuration\u003c/h2\u003e\n\u003cp\u003eThis step is entirely optional, but you can create a file for dotcover configuration.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edotnet dotcover test --dotCoverXml=dotcover.xml\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003edotcover.xml\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026#x3C;AnalyzeParams\u003e\n    \u0026#x3C;Output\u003edotCover.html\u0026#x3C;/Output\u003e\n    \u0026#x3C;ReportType\u003ehtml\u0026#x3C;/ReportType\u003e\n    \u0026#x3C;AttributeFilters\u003e\n        \u0026#x3C;AttributeFilterEntry\u003e\n            \u0026#x3C;ClassMask\u003eSystem.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverageAttribute\u0026#x3C;/ClassMask\u003e\n        \u0026#x3C;/AttributeFilterEntry\u003e\n    \u0026#x3C;/AttributeFilters\u003e\n    \u0026#x3C;Scope\u003e\n        \u0026#x3C;ScopeEntry\u003e../ConsoleApp/**/*.dll\u0026#x3C;/ScopeEntry\u003e\n        \u0026#x3C;ScopeEntry\u003e../ConsoleApp/**/*.exe\u0026#x3C;/ScopeEntry\u003e\n    \u0026#x3C;/Scope\u003e\n    \u0026#x3C;Filters\u003e\n        \u0026#x3C;ExcludeFilters\u003e\n            \u0026#x3C;FilterEntry\u003e\n                \u0026#x3C;ModuleMask\u003eConsoleApp.Tests\u0026#x3C;/ModuleMask\u003e\n            \u0026#x3C;/FilterEntry\u003e\n            \u0026#x3C;FilterEntry\u003e\n                \u0026#x3C;ModuleMask\u003exunit.assert\u0026#x3C;/ModuleMask\u003e\n            \u0026#x3C;/FilterEntry\u003e\n        \u0026#x3C;/ExcludeFilters\u003e\n    \u0026#x3C;/Filters\u003e\n\u0026#x3C;/AnalyzeParams\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eopen \u003ccode\u003eConsoleApp.Tests/dotcover.html\u003c/code\u003e to see the final coverage report\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://i.imgur.com/v8l1RKb.png\" alt=\"example-coverage-report\"\u003e\u003c/p\u003e\n\u003ch2\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eDotcover is easy to setup and configure with Dotnet Core projects. The project works well after basic configuration. The only issue is the license is not a standard\u003c/p\u003e\n\u003cp\u003eFor an example of a project using dotcover, checkout \u003ca href=\"https://github.com/hekar/joke-generator\"\u003ehekar/joke-generator\u003c/a\u003e.\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"2020-09-22-dotcover-dotnetcore"},"buildId":"g5DAiWaR-7D6MZYZkgOm6","assetPrefix":"/blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>