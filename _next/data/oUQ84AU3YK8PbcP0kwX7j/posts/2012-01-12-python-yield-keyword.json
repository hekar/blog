{"pageProps":{"post":{"title":"Python's Yield Keyword","date":"2012-01-12","slug":"2012-01-12-python-yield-keyword","content":"<p>One of my most missed features in Java is the yield keyword found in Python.</p>\n<p>Instead of processing an entire a collection and returning it. The yield keyword, will automatically create a lazily loaded iterable out of a function. This removes a ton of boilerplate that one would otherwise need to create an iterable.</p>\n<hr>\n<p>The stack is saved and all the local state is the same, but the function does not need to process everything before it allows the for loop to continue. Instead, only the next value needs to be calculated.</p>\n<h2>hello</h2>\n<table>\n<tr>\n<th> Good </th>\n<th> Bad </th>\n</tr>\n<tr>\n<td>\n<pre><code class=\"hljs language-c++\"><span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">foo</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-type\">int</span> result = <span class=\"hljs-number\">4</span>;\n    <span class=\"hljs-keyword\">return</span> result;\n}\n</code></pre>\n</td>\n<td>\n<pre><code class=\"hljs language-c++\"><span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">foo</span><span class=\"hljs-params\">()</span> </span>{ \n    <span class=\"hljs-type\">int</span> x = <span class=\"hljs-number\">4</span>;\n    <span class=\"hljs-keyword\">return</span> x;\n}\n</code></pre>\n</td>\n</tr>\n</table>\n<p>Example:</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">fun</span>():\n  <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">50000</span>):\n    <span class=\"hljs-built_in\">print</span>(i)\n    <span class=\"hljs-keyword\">yield</span> i\n\n<span class=\"hljs-keyword\">for</span> number <span class=\"hljs-keyword\">in</span> fun():\n  <span class=\"hljs-built_in\">print</span>(number)\n</code></pre>\n<p>This would print:</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">2</span>\n<span class=\"hljs-number\">2</span>\n<span class=\"hljs-number\">3</span>\n<span class=\"hljs-number\">3</span>\n<span class=\"hljs-comment\"># ...etc</span>\n</code></pre>\n<p>That is because we're basically calculating the value as we move on to process the next value.</p>\n<p>Without using yield, one would do something like:</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">not_fun</span>();\n  results = []\n  <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">50000</span>):\n    <span class=\"hljs-built_in\">print</span>(i)\n    results.append(i)\n  <span class=\"hljs-keyword\">return</span> results\n\n<span class=\"hljs-keyword\">for</span> number <span class=\"hljs-keyword\">in</span> not_fun():\n  <span class=\"hljs-built_in\">print</span>(number)\n</code></pre>\n<p>This would print:</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">2</span>\n<span class=\"hljs-number\">3</span>\n<span class=\"hljs-number\">4</span>\n<span class=\"hljs-number\">5</span>\n<span class=\"hljs-number\">6</span>\n...etc.\n</code></pre>\n<p>Yield can be invaluable when processing I/O intensive tasks that you want to perform sequentially. Instead of processing everything at once, you can process each item on as needed basis.</p>"}},"__N_SSG":true}